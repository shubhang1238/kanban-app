{"ast":null,"code":"import React,{useState}from\"react\";import{CheckSquare,Clock,MoreHorizontal}from\"react-feather\";import Dropdown from\"../Dropdown/Dropdown\";import\"./Card.css\";import CardInfo from\"./CardInfo/CardInfo\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Card(props){var _tasks$filter;const[showDropdown,setShowDropdown]=useState(false);const[showModal,setShowModal]=useState(false);const{id,title,date,tasks,labels}=props.card;const formatDate=value=>{if(!value)return\"\";const date=new Date(value);if(!date)return\"\";const months=[\"Jan\",\"Feb\",\"Mar\",\"Aprl\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];const day=date.getDate();const month=months[date.getMonth()];return day+\" \"+month;};return/*#__PURE__*/_jsxs(_Fragment,{children:[showModal&&/*#__PURE__*/_jsx(CardInfo,{onClose:()=>setShowModal(false),card:props.card,boardId:props.boardId,updateCard:props.updateCard}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",draggable:true,onDragEnd:()=>props.dragEnded(props.boardId,id),onDragEnter:()=>props.dragEntered(props.boardId,id),onClick:()=>setShowModal(true),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card_top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card_top_labels\",children:labels===null||labels===void 0?void 0:labels.map((item,index)=>/*#__PURE__*/_jsx(\"label\",{style:{backgroundColor:item.color},children:item.text},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"card_top_more\",onClick:event=>{event.stopPropagation();setShowDropdown(true);},children:[/*#__PURE__*/_jsx(MoreHorizontal,{}),showDropdown&&/*#__PURE__*/_jsx(Dropdown,{class:\"board_dropdown\",onClose:()=>setShowDropdown(false),children:/*#__PURE__*/_jsx(\"p\",{onClick:()=>props.removeCard(props.boardId,id),children:\"Delete Card\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card_title\",children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"card_footer\",children:[date&&/*#__PURE__*/_jsxs(\"p\",{className:\"card_footer_item\",children:[/*#__PURE__*/_jsx(Clock,{className:\"card_footer_icon\"}),formatDate(date)]}),tasks&&(tasks===null||tasks===void 0?void 0:tasks.length)>0&&/*#__PURE__*/_jsxs(\"p\",{className:\"card_footer_item\",children:[/*#__PURE__*/_jsx(CheckSquare,{className:\"card_footer_icon\"}),tasks===null||tasks===void 0?void 0:(_tasks$filter=tasks.filter(item=>item.completed))===null||_tasks$filter===void 0?void 0:_tasks$filter.length,\"/\",tasks===null||tasks===void 0?void 0:tasks.length]})]})]})]});}export default Card;","map":{"version":3,"names":["React","useState","CheckSquare","Clock","MoreHorizontal","Dropdown","CardInfo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Card","props","_tasks$filter","showDropdown","setShowDropdown","showModal","setShowModal","id","title","date","tasks","labels","card","formatDate","value","Date","months","day","getDate","month","getMonth","children","onClose","boardId","updateCard","className","draggable","onDragEnd","dragEnded","onDragEnter","dragEntered","onClick","map","item","index","style","backgroundColor","color","text","event","stopPropagation","class","removeCard","length","filter","completed"],"sources":["D:/Kanban-master/src/Components/Card/Card.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { CheckSquare, Clock, MoreHorizontal } from \"react-feather\";\n\nimport Dropdown from \"../Dropdown/Dropdown\";\n\nimport \"./Card.css\";\nimport CardInfo from \"./CardInfo/CardInfo\";\n\nfunction Card(props) {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  const { id, title, date, tasks, labels } = props.card;\n\n  const formatDate = (value) => {\n    if (!value) return \"\";\n    const date = new Date(value);\n    if (!date) return \"\";\n\n    const months = [\n      \"Jan\",\n      \"Feb\",\n      \"Mar\",\n      \"Aprl\",\n      \"May\",\n      \"Jun\",\n      \"Jul\",\n      \"Aug\",\n      \"Sep\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\",\n    ];\n\n    const day = date.getDate();\n    const month = months[date.getMonth()];\n    return day + \" \" + month;\n  };\n\n  return (\n    <>\n      {showModal && (\n        <CardInfo\n          onClose={() => setShowModal(false)}\n          card={props.card}\n          boardId={props.boardId}\n          updateCard={props.updateCard}\n        />\n      )}\n      <div\n        className=\"card\"\n        draggable\n        onDragEnd={() => props.dragEnded(props.boardId, id)}\n        onDragEnter={() => props.dragEntered(props.boardId, id)}\n        onClick={() => setShowModal(true)}\n      >\n        <div className=\"card_top\">\n          <div className=\"card_top_labels\">\n            {labels?.map((item, index) => (\n              <label key={index} style={{ backgroundColor: item.color }}>\n                {item.text}\n              </label>\n            ))}\n          </div>\n          <div\n            className=\"card_top_more\"\n            onClick={(event) => {\n              event.stopPropagation();\n              setShowDropdown(true);\n            }}\n          >\n            <MoreHorizontal />\n            {showDropdown && (\n              <Dropdown\n                class=\"board_dropdown\"\n                onClose={() => setShowDropdown(false)}\n              >\n                <p onClick={() => props.removeCard(props.boardId, id)}>\n                  Delete Card\n                </p>\n              </Dropdown>\n            )}\n          </div>\n        </div>\n        <div className=\"card_title\">{title}</div>\n        <div className=\"card_footer\">\n          {date && (\n            <p className=\"card_footer_item\">\n              <Clock className=\"card_footer_icon\" />\n              {formatDate(date)}\n            </p>\n          )}\n          {tasks && tasks?.length > 0 && (\n            <p className=\"card_footer_item\">\n              <CheckSquare className=\"card_footer_icon\" />\n              {tasks?.filter((item) => item.completed)?.length}/{tasks?.length}\n            </p>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Card;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}